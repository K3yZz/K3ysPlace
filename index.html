<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>K3yz Menu</title>
  <link rel="stylesheet" href="./mainpage/style.css" />
  <link rel="stylesheet" href="./globalassets/css/theme.css" />
</head>

<body>
  <!-- Visible error overlay for debugging -->
  <div id="errOverlay" style="position:fixed;inset:12px;z-index:99999;pointer-events:none">
    <div id="errBox" style="display:none;pointer-events:auto;background:#2b0e0e;color:#fff;padding:14px;border-radius:8px;max-width:calc(100% - 48px);max-height:60vh;overflow:auto;font-family:system-ui,Segoe UI,Arial;font-size:13px"></div>
  </div>
  <script>
    const errBox = document.getElementById('errBox');
    function showErr(msg) {
      errBox.style.display = 'block';
      errBox.textContent = msg;
    }
    window.addEventListener('error', e => {
      showErr('Error: ' + (e.message || e.error) + ' â€” ' + (e.filename || e.error?.stack || 'unknown'));
    });
    window.addEventListener('unhandledrejection', ev => {
      showErr('Unhandled promise rejection: ' + (ev.reason?.message || JSON.stringify(ev.reason)));
    });
  </script>

  <span id="titleText">K3yz Place</span>
  <span id="versionText">V1.2.3 - Alpha</span>
  <button id="settingsButton" aria-label="Open settings">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-hidden="true" style="display:block">
      <circle cx="4" cy="5" r="3" fill="#fff" />
      <circle cx="4" cy="12" r="3" fill="#fff" />
      <circle cx="4" cy="19" r="3" fill="#fff" />
      <circle cx="12" cy="5" r="3" fill="#fff" />
      <circle cx="12" cy="12" r="3" fill="#fff" />
      <circle cx="12" cy="19" r="3" fill="#fff" />
      <circle cx="20" cy="5" r="3" fill="#fff" />
      <circle cx="20" cy="12" r="3" fill="#fff" />
      <circle cx="20" cy="19" r="3" fill="#fff" />
    </svg>
  </button>

  <div id="settingsPanel" hidden>
    <h2>Settings</h2>
    <select id="themeToggle">
      <option>default</option>
      <option>blue</option>
      <option>red</option>
      <option>yeah</option>
    </select>
    <button id="bugReportButton">Send Feedback</button>
    <div id="bugReportFormContainer">
      <input id="bugDescription" placeholder="Describe the bug/Suggest an idea..."></input>
      <input id="bugEmail" type="email" placeholder="Your email (optional)" />
      <button id="submitBug">Submit</button>
      <button id="cancelBug">Cancel</button>
      <span id="bugFeedback"></span>
    </div>
  </div>

  <div class="tab-buttons" role="tablist" aria-label="Games sections">
    <button class="tab-btn active" role="tab" aria-selected="true" data-tab="myGamesPanel">
      My Games
    </button>
    <button class="tab-btn" role="tab" aria-selected="false" data-tab="portedGamesPanel">
      Ported Games
    </button>
    <button class="tab-btn" role="tab" aria-selected="false" data-tab="toolsPanel">
      Tools
    </button>
    <button class="tab-btn" role="tab" aria-selected="false" data-tab="legacyGamesPanel">
      Legacy Games
    </button>
  </div>

  <div id="gamesContainer">
    <div id="myGamesPanel" class="tab-content active" role="tabpanel" aria-hidden="false">
      <div id="myGames"></div>
    </div>

    <div id="portedGamesPanel" class="tab-content" role="tabpanel" aria-hidden="true">
      <div id="portedGames"></div>
    </div>

    <div id="toolsPanel" class="tab-content" role="tabpanel" aria-hidden="true">
      <div id="tools"></div>
    </div>

    <div id="legacyGamesPanel" class="tab-content" role="tabpanel" aria-hidden="true">
      <div id="legacyGames"></div>
    </div>
  </div> <!-- closing #gamesContainer -->

  <!-- Load external scripts -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  <script src="mainpage/main.js" type="module"></script>
  <script src="globalassets/js/theme.js" type="module"></script>

</body>
</html>
